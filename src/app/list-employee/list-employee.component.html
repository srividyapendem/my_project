<div class="container-fluid ">
  <button type="button" class="btn btn-success pull-right" 
   (click)="logOut()"  >logout</button>
</div>
<button routerLink="add"
 routerLinkActive="active"
  type="button" class="btn btn-secondary"
   data-bs-toggle="modal" data-bs-target="#exampleModal">
  add-employee
</button>
<router-outlet></router-outlet>

<!-- Button trigger modal -->





<!--<div *ngIf="alert"
  
  class="alert alert-danger alert-dismissible fade show" role="alert">
  <strong>Deleted</strong>
   Successfull ! â˜º.
  <button (click)="closeAlert()" type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button> 
</div>-->

<table class="table">
    <thead>
      <tr>
        <th >Id</th>
        <th >Firstname</th>
        <th >Lastname</th>
        <th >Email</th>
        <th >DOB</th>
        <th >Salary</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let employee of collection">
        <td> {{employee.id}}</td> 
        <td> {{employee.firstName |uppercase}}</td> 
        <td> {{employee.lastName | uppercase }}</td> 
        <td> {{employee.email}}</td> 
        <td> {{employee.dob }}</td> 
        <td> {{employee.salary | currency}}</td> 
        <td> <a routerLink="/update/{{employee.id}}"> <button class="btn btn-primary" 
   >Edit</button> </a>
          &nbsp;&nbsp;
           <button class="btn btn-primary"
          
           mwlConfirmationPopover
           [popoverTitle]="popoverTitle"
           [popoverMessage]="popoverMessage"
           placement="left"
           (confirm)="deleteEmployee(employee.id)"
           (cancel)="cancelClicked = true"
       
         >
         Delete </button></td>
        
      
      </tr>
     
    </tbody>
  </table>

  <div class="modal fade" 
  id="exampleModal" tabindex="-1"
   aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Employee Details</h5>
          <button type="button"
           class="btn-close" data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="addEmployee"  >
            <div class="form-group">
              <label class="form-label">FirstName</label>
              <input type="text" class="form-control" formControlName="firstName"
               [class.is-invalid]="firstName.invalid && firstName.touched" >
              <div *ngIf=" firstName.invalid && firstName.touched ">
              <small class="text-danger" *ngIf ="firstName.errors?.required"> firstName is required</small> 
            </div>
          </div>
            <div class="form-group">
              <label class="form-label">LastName</label>
              <input type="text" class="form-control" formControlName="lastName">
            </div>
            <div class="form-group">
          
         
      

      
        <label >Email</label>
              <input type="email" 
              class="form-control" formControlName="email" 
             [class.is-invalid]="email.invalid && email.touched" >
             <div *ngIf=" email.invalid && email.touched ">
             <small class="text-danger" *ngIf ="email.errors?.required">email is required</small>
             <small class="text-danger" *ngIf ="email.errors?.pattern">email pattern  should be matched</small>
             <small class="text-danger" *ngIf="email.errors?.email">
              Enter a valid email address
          </small>
            </div>
        
            </div> 

            <div class="form-group">
              <label class="form-label">password</label>
              <input type="text" class="form-control" formControlName="password"
               [class.is-invalid]="password.invalid && password.touched" >
              <div *ngIf=" password.invalid && firstName.touched ">
              <small class="text-danger" *ngIf ="password.errors?.required"> password is required</small> 
            </div>
          </div>
         
          <div class="form-group">
              <label class="form-label">DOB</label>
              <input type="date" class="form-control" formControlName="dob" 
              [class.is-invalid]="dob.invalid && dob.touched" >
              <div *ngIf=" dob.invalid && dob.touched ">
              <small class="text-danger" *ngIf ="dob.errors?.required">  dob is required</small> 
            </div>
          </div>
        
        
            <div class="form-group">
              <label class="form-label">SALARY</label>
              <input type="text" class="form-control" formControlName="salary" 
              [class.is-invalid]="salary.invalid && salary.touched"  >
              <div *ngIf=" salary.invalid && salary.touched ">
              <small class="text-danger" *ngIf ="salary.errors?.required">  salary is required</small> 
              
            
            </div> 
            </div>
       
      </form>
    
        <div class="modal-footer">
          <button type="button" id="cancel" class="btn btn-secondary"
           data-bs-dismiss="modal">Close</button>
          <button  [disabled]="!addEmployee.valid" type="button" 
          class="btn btn-primary" (click)="onSubmit()">Add Employee </button>
        </div>
      </div>
    </div>
  </div>
  


  